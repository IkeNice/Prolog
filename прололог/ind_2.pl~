eq([X|_],X).
eq([_|Y],Z):-eq(Y,Z).

teachers(T):-
    (T=[[_,morozov],[_,morozov],
        [_,tokarev],[_,tokarev],
        [_,vasilev],[_,vasilev]]),
    eq(T,[i,_]),eq(T,[a,_]),eq(T,[g,_]),
    eq(T,[f,_]),eq(T,[b,_]),eq(T,[m,_]),
    eq(T,[g,X3]),eq(T,[f,X4]),not(X3=X4),
    eq(T,[m,Y1]),eq(T,[b,Y2]),not(Y1=Y2),
    not(eq(T,[b,morozov])),
    eq(T,[b,Z1]),eq(T,[f,Z2]),not(Z1=Z2),
    not(eq(T,[b,tokarev])),
    not(eq(T,[f,tokarev])),
    not(eq(T,[m,morozov])),
    not(eq(T,[a,morozov])),
    eq(T,[m,X1]),eq(T,[a,X2]),not(X1=X2),!.

unique([]):-!.
unique([H|T]):-
member(H,T),!,fail;
unique(T).

man("Morozov").
man("Vasilev").
man("Tokarev").

lesson("Biology").
lesson("French").
lesson("Englisg").
lesson("History").
lesson("Mathemathics").
lesson("Geography").

%teacher(S,L1,L2).
solve(Solve):-
%Solve = [(X,XL1,XL2),(Y,YL1,YL2),(Z,ZL1,ZL2)],
Solve=[(_,_,_),(_,_,_),(_,_,_)],

man(X), man(Y), man(Z), not(X=Y),not(Y=Z),not(X=Z),
lesson(XL1),lesson(XL2),
lesson(YL1),lesson(YL2),
lesson(ZL1),lesson(ZL2),
unique([XL1,XL2,YL1,YL2,ZL1,ZL2]),
not(member((_,"Geography","French"),Solve)),
not(member((_,"French","Geography"),Solve)),
not(member(("Tokarev","Biology";_,"French";_),Solve)),
not(member(("Tokarev","French";_,"Biology";_),Solve)),
not(member((_,"Biology","French"),Solve)),
not(member((_,"French","Biology"),Solve)),
not(member(("Morozov","Biology",_),Solve)),
not(member(("Morozov",_,"Biology"),Solve)),
not(member((_,"Biology","Mathemathics"),Solve)),
not(member((_,"Mathemathics","Biology"),Solve)),
not(member((_,"Englisg","Mathemathics"),Solve)),
not(member((_,"Mathemathics","Englisg"),Solve)),
not(member(("Morozov",_,"Englisg"),Solve)),
not(member(("Morozov","Englisg",_),Solve)),
not(member(("Morozov",_,"Mathemathics"),Solve)),
not(member(("Morozov","Mathemathics",_),Solve)),!.


